# The fft seems to give the wrong answer for very long vectors!?!?

< $macro_dir/compute/nfilter.mac

Set dlen 1024*1024		# bad
Set dlen 512*512		# bad
#Set dlen 256*256		# mostly OK, but a little strange
Set slen 8

Define Test_FFT 1 prefix
Vector ${1}_f $dlen 1 float
Subvector ${1}_s ${1}_f $slen 0
VSet ${1}_f 0
VSet ${1}_f[0] 1
Display ${1}_s
Low_Pass ${1}_f 16
Display ${1}_s
Pause
.

Test_FFT h
platforms select $DEFAULT_PLATFORM $DEFAULT_GPU quit
Test_FFT g

exit

